<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
          rel="stylesheet" crossorigin="anonymous"
          th:href="@{/webjars/bootstrap/5.0.0-beta1/css/bootstrap.min.css}">

    <script src="/webjars/jquery/3.5.1/jquery.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
            crossorigin="anonymous"
            th:src="@{/webjars/bootstrap/5.0.0-beta1/js/bootstrap.bundle.min.js}"></script>

    <title th:text="${recipe.description}">Title</title>
</head>
<body>

<div class="container-fluid mt-3 mb-3">
    <div class="row">
        <div class="col-md-6 offset-md-3">

            <div class="card align-content-center mb-3">
                <div class="card-header">
                    <h3 class="card-title h3" th:text="${recipe.description}">Descriptions</h3>
                </div>
                <div class="card-body">

                    <div class="row">
                        <div class="col-md-3">
                            <h5>Categories:</h5>
                        </div>
                        <div class="col-md-9">
                            <ul>
                                <li th:remove="all">Cat 1</li>
                                <li th:remove="all">Cat 2</li>
                                <li th:each="cat:${recipe.categories}" th:text="${cat.description}">Cat 3</li>
                            </ul>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-3">
                            <h5>Prep time:</h5>
                        </div>
                        <div class="col-md-3">
                            <p th:text="${recipe.prepTime} + ' min'">30 min</p>
                        </div>
                        <div class="col-md-3">
                            <h5>Difficulty:</h5>
                        </div>
                        <div class="col-md-3">
                            <p th:text="${recipe.difficulty}">Easy</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-3">
                            <h5>Cook time:</h5>
                        </div>
                        <div class="col-md-3">
                            <p th:text="${recipe.cookTime} + ' min'">30 min</p>
                        </div>
                        <div class="col-md-3">
                            <h5>Serving:</h5>
                        </div>
                        <div class="col-md-3">
                            <p th:text="${recipe.servings}">4</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-3">
                            <h5>Source:</h5>
                        </div>
                        <div class="col-md-3">
                            <p th:text="${recipe.source}">30 min</p>
                        </div>
                        <div class="col-md-3">
                            <h5>URL:</h5>
                        </div>
                        <div class="col-md-3">
                            <a href="#" target="_blank" title="http://www.example.com"
                               th:href="${recipe.url}" th:title="${recipe.url}">Read More</a>
                        </div>
                    </div>

                </div>
            </div>

            <div class="card align-content-center mb-3">
                <div class="card-header">
                    <div class="row">
                        <div class="col-md-10">
                    <h3 class="card-title h3">Ingredients</h3>
                        </div>
                        <div class="col-md-2 d-flex justify-content-end">
                            <a class="btn btn-outline-primary" role="button" href="#"
                               th:href="${('/recipe/' + recipe.id + '/ingredients')}">View</a>
                        </div>

                    </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <ul>
                                <li th:remove="all">1 Cup of milk</li>
                                <li th:remove="all">1 Teaspoon of chocolate</li>
                                <li th:each="ingredient : ${recipe.ingredients}"
                                    th:with="amount=${ingredient.amount.stripTrailingZeros()},
                                    unit=${(!ingredient.unitOfMeasure.description.equals('Each') ?
                                    (' ' + ingredient.unitOfMeasure.description + ' of ') : ' ')},
                                    description=${ingredient.description}"

                                    th:text="${amount} + ${unit} + ${ingredient.description}">
                                    1 Teaspoon of sugar
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card align-content-center mb-3">
                <div class="card-header">
                    <h3 class="card-title h3">Directions</h3>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <p th:utext="${recipe.directions.replaceAll('\n', '<br>')}">
                                This is Directions paragraph.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card align-content-center">
                <div class="card-header">
                    <h3 class="card-title h3">Notes</h3>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <p th:utext="${recipe.notes.recipeNotes.replaceAll( '\n', '&lt;br&gt;')}">
                                This is Notes paragraph.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>


</body>
</html>